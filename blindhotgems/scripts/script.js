/* Author: Beau Charman */
(function(e){e.flexslider=function(t,i){var n=e(t),o=e.extend({},e.flexslider.defaults,i),a=o.namespace,s="ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch,r=s?"touchend":"click",l="vertical"===o.direction,c=o.reverse,u=o.itemWidth>0,d="fade"===o.animation,h=""!==o.asNavFor,p={};e.data(t,"flexslider",n),p={init:function(){n.animating=!1,n.currentSlide=o.startAt,n.animatingTo=n.currentSlide,n.atEnd=0===n.currentSlide||n.currentSlide===n.last,n.containerSelector=o.selector.substr(0,o.selector.search(" ")),n.slides=e(o.selector,n),n.container=e(n.containerSelector,n),n.count=n.slides.length,n.syncExists=e(o.sync).length>0,"slide"===o.animation&&(o.animation="swing"),n.prop=l?"top":"marginLeft",n.args={},n.manualPause=!1,n.transitions=!o.video&&!d&&o.useCSS&&function(){var e,t=document.createElement("div"),i=["perspectiveProperty","WebkitPerspective","MozPerspective","OPerspective","msPerspective"];for(e in i)if(void 0!==t.style[i[e]])return n.pfx=i[e].replace("Perspective","").toLowerCase(),n.prop="-"+n.pfx+"-transform",!0;return!1}(),""!==o.controlsContainer&&(n.controlsContainer=e(o.controlsContainer).length>0&&e(o.controlsContainer)),""!==o.manualControls&&(n.manualControls=e(o.manualControls).length>0&&e(o.manualControls)),o.randomize&&(n.slides.sort(function(){return Math.round(Math.random())-.5}),n.container.empty().append(n.slides)),n.doMath(),h&&p.asNav.setup(),n.setup("init"),o.controlNav&&p.controlNav.setup(),o.directionNav&&p.directionNav.setup(),o.keyboard&&(1===e(n.containerSelector).length||o.multipleKeyboard)&&e(document).bind("keyup",function(e){e=e.keyCode,n.animating||39!==e&&37!==e||(e=39===e?n.getTarget("next"):37===e?n.getTarget("prev"):!1,n.flexAnimate(e,o.pauseOnAction))}),o.mousewheel&&n.bind("mousewheel",function(e,t){e.preventDefault();var i=0>t?n.getTarget("next"):n.getTarget("prev");n.flexAnimate(i,o.pauseOnAction)}),o.pausePlay&&p.pausePlay.setup(),o.slideshow&&(o.pauseOnHover&&n.hover(function(){n.pause()},function(){n.manualPause||n.play()}),o.initDelay>0?setTimeout(n.play,o.initDelay):n.play()),s&&o.touch&&p.touch(),(!d||d&&o.smoothHeight)&&e(window).bind("resize focus",p.resize),setTimeout(function(){o.start(n)},200)},asNav:{setup:function(){n.asNav=!0,n.animatingTo=Math.floor(n.currentSlide/n.move),n.currentItem=n.currentSlide,n.slides.removeClass(a+"active-slide").eq(n.currentItem).addClass(a+"active-slide"),n.slides.click(function(t){t.preventDefault();var t=e(this),i=t.index();!e(o.asNavFor).data("flexslider").animating&&!t.hasClass("active")&&(n.direction=i>n.currentItem?"next":"prev",n.flexAnimate(i,o.pauseOnAction,!1,!0,!0))})}},controlNav:{setup:function(){n.manualControls?p.controlNav.setupManual():p.controlNav.setupPaging()},setupPaging:function(){var t,i=1;if(n.controlNavScaffold=e('<ol class="'+a+"control-nav "+a+("thumbnails"===o.controlNav?"control-thumbs":"control-paging")+'"></ol>'),n.pagingCount>1)for(var l=0;n.pagingCount>l;l++)t="thumbnails"===o.controlNav?'<img src="'+n.slides.eq(l).attr("data-thumb")+'"/>':"<a>"+i+"</a>",n.controlNavScaffold.append("<li>"+t+"</li>"),i++;n.controlsContainer?e(n.controlsContainer).append(n.controlNavScaffold):n.append(n.controlNavScaffold),p.controlNav.set(),p.controlNav.active(),n.controlNavScaffold.delegate("a, img",r,function(t){t.preventDefault();var t=e(this),i=n.controlNav.index(t);t.hasClass(a+"active")||(n.direction=i>n.currentSlide?"next":"prev",n.flexAnimate(i,o.pauseOnAction))}),s&&n.controlNavScaffold.delegate("a","click touchstart",function(e){e.preventDefault()})},setupManual:function(){n.controlNav=n.manualControls,p.controlNav.active(),n.controlNav.live(r,function(t){t.preventDefault();var t=e(this),i=n.controlNav.index(t);t.hasClass(a+"active")||(n.direction=i>n.currentSlide?"next":"prev",n.flexAnimate(i,o.pauseOnAction))}),s&&n.controlNav.live("click touchstart",function(e){e.preventDefault()})},set:function(){n.controlNav=e("."+a+"control-nav li "+("thumbnails"===o.controlNav?"img":"a"),n.controlsContainer?n.controlsContainer:n)},active:function(){n.controlNav.removeClass(a+"active").eq(n.animatingTo).addClass(a+"active")},update:function(t,i){n.pagingCount>1&&"add"===t?n.controlNavScaffold.append(e("<li><a>"+n.count+"</a></li>")):1===n.pagingCount?n.controlNavScaffold.find("li").remove():n.controlNav.eq(i).closest("li").remove(),p.controlNav.set(),n.pagingCount>1&&n.pagingCount!==n.controlNav.length?n.update(i,t):p.controlNav.active()}},directionNav:{setup:function(){var t=e('<ul class="'+a+'direction-nav"><li><a class="'+a+'prev" href="#">'+o.prevText+'</a></li><li><a class="'+a+'next" href="#">'+o.nextText+"</a></li></ul>");n.controlsContainer?(e(n.controlsContainer).append(t),n.directionNav=e("."+a+"direction-nav li a",n.controlsContainer)):(n.append(t),n.directionNav=e("."+a+"direction-nav li a",n)),p.directionNav.update(),n.directionNav.bind(r,function(t){t.preventDefault(),t=e(this).hasClass(a+"next")?n.getTarget("next"):n.getTarget("prev"),n.flexAnimate(t,o.pauseOnAction)}),s&&n.directionNav.bind("click touchstart",function(e){e.preventDefault()})},update:function(){var e=a+"disabled";o.animationLoop||(1===n.pagingCount?n.directionNav.addClass(e):0===n.animatingTo?n.directionNav.removeClass(e).filter("."+a+"prev").addClass(e):n.animatingTo===n.last?n.directionNav.removeClass(e).filter("."+a+"next").addClass(e):n.directionNav.removeClass(e))}},pausePlay:{setup:function(){var t=e('<div class="'+a+'pauseplay"><a></a></div>');n.controlsContainer?(n.controlsContainer.append(t),n.pausePlay=e("."+a+"pauseplay a",n.controlsContainer)):(n.append(t),n.pausePlay=e("."+a+"pauseplay a",n)),p.pausePlay.update(o.slideshow?a+"pause":a+"play"),n.pausePlay.bind(r,function(t){t.preventDefault(),e(this).hasClass(a+"pause")?(n.pause(),n.manualPause=!0):(n.play(),n.manualPause=!1)}),s&&n.pausePlay.bind("click touchstart",function(e){e.preventDefault()})},update:function(e){"play"===e?n.pausePlay.removeClass(a+"pause").addClass(a+"play").text(o.playText):n.pausePlay.removeClass(a+"play").addClass(a+"pause").text(o.pauseText)}},touch:function(){function e(e){p=l?a-e.touches[0].pageY:a-e.touches[0].pageX,m=l?Math.abs(p)<Math.abs(e.touches[0].pageX-s):Math.abs(p)<Math.abs(e.touches[0].pageY-s),(!m||Number(new Date)-f>500)&&(e.preventDefault(),!d&&n.transitions&&(o.animationLoop||(p/=0===n.currentSlide&&0>p||n.currentSlide===n.last&&p>0?Math.abs(p)/h+2:1),n.setProps(r+p,"setTouch")))}function i(){if(n.animatingTo===n.currentSlide&&!m&&null!==p){var l=c?-p:p,u=l>0?n.getTarget("next"):n.getTarget("prev");n.canAdvance(u)&&(550>Number(new Date)-f&&Math.abs(l)>20||Math.abs(l)>h/2)?n.flexAnimate(u,o.pauseOnAction):n.flexAnimate(n.currentSlide,o.pauseOnAction,!0)}t.removeEventListener("touchmove",e,!1),t.removeEventListener("touchend",i,!1),r=p=s=a=null}var a,s,r,h,p,f,m=!1;t.addEventListener("touchstart",function(d){n.animating?d.preventDefault():1===d.touches.length&&(n.pause(),h=l?n.h:n.w,f=Number(new Date),r=u&&c&&n.animatingTo===n.last?0:u&&c?n.limit-(n.itemW+o.itemMargin)*n.move*n.animatingTo:u&&n.currentSlide===n.last?n.limit:u?(n.itemW+o.itemMargin)*n.move*n.currentSlide:c?(n.last-n.currentSlide+n.cloneOffset)*h:(n.currentSlide+n.cloneOffset)*h,a=l?d.touches[0].pageY:d.touches[0].pageX,s=l?d.touches[0].pageX:d.touches[0].pageY,t.addEventListener("touchmove",e,!1),t.addEventListener("touchend",i,!1))},!1)},resize:function(){!n.animating&&n.is(":visible")&&(u||n.doMath(),d?p.smoothHeight():u?(n.slides.width(n.computedW),n.update(n.pagingCount),n.setProps()):l?(n.viewport.height(n.h),n.setProps(n.h,"setTotal")):(o.smoothHeight&&p.smoothHeight(),n.newSlides.width(n.computedW),n.setProps(n.computedW,"setTotal")))},smoothHeight:function(e){if(!l||d){var t=d?n:n.viewport;e?t.animate({height:n.slides.eq(n.animatingTo).height()},e):t.height(n.slides.eq(n.animatingTo).height())}},sync:function(t){var i=e(o.sync).data("flexslider"),a=n.animatingTo;switch(t){case"animate":i.flexAnimate(a,o.pauseOnAction,!1,!0);break;case"play":!i.playing&&!i.asNav&&i.play();break;case"pause":i.pause()}}},n.flexAnimate=function(t,i,s,r,f){if(!n.animating&&(n.canAdvance(t)||s)&&n.is(":visible")){if(h&&r){if(s=e(o.asNavFor).data("flexslider"),n.atEnd=0===t||t===n.count-1,s.flexAnimate(t,!0,!1,!0,f),n.direction=t>n.currentItem?"next":"prev",s.direction=n.direction,Math.ceil((t+1)/n.visible)-1===n.currentSlide||0===t)return n.currentItem=t,n.slides.removeClass(a+"active-slide").eq(t).addClass(a+"active-slide"),!1;n.currentItem=t,n.slides.removeClass(a+"active-slide").eq(t).addClass(a+"active-slide"),t=Math.floor(t/n.visible)}if(n.animating=!0,n.animatingTo=t,o.before(n),i&&n.pause(),n.syncExists&&!f&&p.sync("animate"),o.controlNav&&p.controlNav.active(),u||n.slides.removeClass(a+"active-slide").eq(t).addClass(a+"active-slide"),n.atEnd=0===t||t===n.last,o.directionNav&&p.directionNav.update(),t===n.last&&(o.end(n),o.animationLoop||n.pause()),d)n.slides.eq(n.currentSlide).fadeOut(o.animationSpeed,o.easing),n.slides.eq(t).fadeIn(o.animationSpeed,o.easing,n.wrapup);else{var m=l?n.slides.filter(":first").height():n.computedW;u?(t=o.itemWidth>n.w?2*o.itemMargin:o.itemMargin,t=(n.itemW+t)*n.move*n.animatingTo,t=t>n.limit&&1!==n.visible?n.limit:t):t=0===n.currentSlide&&t===n.count-1&&o.animationLoop&&"next"!==n.direction?c?(n.count+n.cloneOffset)*m:0:n.currentSlide===n.last&&0===t&&o.animationLoop&&"prev"!==n.direction?c?0:(n.count+1)*m:c?(n.count-1-t+n.cloneOffset)*m:(t+n.cloneOffset)*m,n.setProps(t,"",o.animationSpeed),n.transitions?(o.animationLoop&&n.atEnd||(n.animating=!1,n.currentSlide=n.animatingTo),n.container.unbind("webkitTransitionEnd transitionend"),n.container.bind("webkitTransitionEnd transitionend",function(){n.wrapup(m)})):n.container.animate(n.args,o.animationSpeed,o.easing,function(){n.wrapup(m)})}o.smoothHeight&&p.smoothHeight(o.animationSpeed)}},n.wrapup=function(e){!d&&!u&&(0===n.currentSlide&&n.animatingTo===n.last&&o.animationLoop?n.setProps(e,"jumpEnd"):n.currentSlide===n.last&&0===n.animatingTo&&o.animationLoop&&n.setProps(e,"jumpStart")),n.animating=!1,n.currentSlide=n.animatingTo,o.after(n)},n.animateSlides=function(){n.animating||n.flexAnimate(n.getTarget("next"))},n.pause=function(){clearInterval(n.animatedSlides),n.playing=!1,o.pausePlay&&p.pausePlay.update("play"),n.syncExists&&p.sync("pause")},n.play=function(){n.animatedSlides=setInterval(n.animateSlides,o.slideshowSpeed),n.playing=!0,o.pausePlay&&p.pausePlay.update("pause"),n.syncExists&&p.sync("play")},n.canAdvance=function(e){var t=h?n.pagingCount-1:n.last;return h&&0===n.currentItem&&e===n.pagingCount-1&&"next"!==n.direction?!1:e!==n.currentSlide||h?o.animationLoop?!0:n.atEnd&&0===n.currentSlide&&e===t&&"next"!==n.direction?!1:n.atEnd&&n.currentSlide===t&&0===e&&"next"===n.direction?!1:!0:!1},n.getTarget=function(e){return n.direction=e,"next"===e?n.currentSlide===n.last?0:n.currentSlide+1:0===n.currentSlide?n.last:n.currentSlide-1},n.setProps=function(e,t,i){var a=function(){var i=e?e:(n.itemW+o.itemMargin)*n.move*n.animatingTo;return-1*function(){if(u)return"setTouch"===t?e:c&&n.animatingTo===n.last?0:c?n.limit-(n.itemW+o.itemMargin)*n.move*n.animatingTo:n.animatingTo===n.last?n.limit:i;switch(t){case"setTotal":return c?(n.count-1-n.currentSlide+n.cloneOffset)*e:(n.currentSlide+n.cloneOffset)*e;case"setTouch":return e;case"jumpEnd":return c?e:n.count*e;case"jumpStart":return c?n.count*e:e;default:return e}}()+"px"}();n.transitions&&(a=l?"translate3d(0,"+a+",0)":"translate3d("+a+",0,0)",i=void 0!==i?i/1e3+"s":"0s",n.container.css("-"+n.pfx+"-transition-duration",i)),n.args[n.prop]=a,(n.transitions||void 0===i)&&n.container.css(n.args)},n.setup=function(t){if(d)n.slides.css({width:"100%","float":"left",marginRight:"-100%",position:"relative"}),"init"===t&&n.slides.eq(n.currentSlide).fadeIn(o.animationSpeed,o.easing),o.smoothHeight&&p.smoothHeight();else{var i,s;"init"===t&&(n.viewport=e('<div class="flex-viewport"></div>').css({overflow:"hidden",position:"relative"}).appendTo(n).append(n.container),n.cloneCount=0,n.cloneOffset=0,c&&(s=e.makeArray(n.slides).reverse(),n.slides=e(s),n.container.empty().append(n.slides))),o.animationLoop&&!u&&(n.cloneCount=2,n.cloneOffset=1,"init"!==t&&n.container.find(".clone").remove(),n.container.append(n.slides.first().clone().addClass("clone")).prepend(n.slides.last().clone().addClass("clone"))),n.newSlides=e(o.selector,n),i=c?n.count-1-n.currentSlide+n.cloneOffset:n.currentSlide+n.cloneOffset,l&&!u?(n.container.height(200*(n.count+n.cloneCount)+"%").css("position","absolute").width("100%"),setTimeout(function(){n.newSlides.css({display:"block"}),n.doMath(),n.viewport.height(n.h),n.setProps(i*n.h,"init")},"init"===t?100:0)):(n.container.width(200*(n.count+n.cloneCount)+"%"),n.setProps(i*n.computedW,"init"),setTimeout(function(){n.doMath(),n.newSlides.css({width:n.computedW,"float":"left",display:"block"}),o.smoothHeight&&p.smoothHeight()},"init"===t?100:0))}u||n.slides.removeClass(a+"active-slide").eq(n.currentSlide).addClass(a+"active-slide")},n.doMath=function(){var e=n.slides.first(),t=o.itemMargin,i=o.minItems,a=o.maxItems;n.w=n.width(),n.h=e.height(),n.boxPadding=e.outerWidth()-e.width(),u?(n.itemT=o.itemWidth+t,n.minW=i?i*n.itemT:n.w,n.maxW=a?a*n.itemT:n.w,n.itemW=n.minW>n.w?(n.w-t*i)/i:n.maxW<n.w?(n.w-t*a)/a:o.itemWidth>n.w?n.w:o.itemWidth,n.visible=Math.floor(n.w/(n.itemW+t)),n.move=o.move>0&&o.move<n.visible?o.move:n.visible,n.pagingCount=Math.ceil((n.count-n.visible)/n.move+1),n.last=n.pagingCount-1,n.limit=1===n.pagingCount?0:o.itemWidth>n.w?(n.itemW+2*t)*n.count-n.w-t:(n.itemW+t)*n.count-n.w):(n.itemW=n.w,n.pagingCount=n.count,n.last=n.count-1),n.computedW=n.itemW-n.boxPadding},n.update=function(e,t){n.doMath(),u||(n.currentSlide>e?n.currentSlide+=1:n.currentSlide>=e&&0!==e&&(n.currentSlide-=1),n.animatingTo=n.currentSlide),o.controlNav&&!n.manualControls&&("add"===t&&!u||n.pagingCount>n.controlNav.length?p.controlNav.update("add"):("remove"===t&&!u||n.pagingCount<n.controlNav.length)&&(u&&n.currentSlide>n.last&&(n.currentSlide-=1,n.animatingTo-=1),p.controlNav.update("remove",n.last))),o.directionNav&&p.directionNav.update()},n.addSlide=function(t,i){var a=e(t);n.count+=1,n.last=n.count-1,l&&c?void 0!==i?n.slides.eq(n.count-i).after(a):n.container.prepend(a):void 0!==i?n.slides.eq(i).before(a):n.container.append(a),n.update(i,"add"),n.slides=e(o.selector+":not(.clone)",n),n.setup(),o.added(n)},n.removeSlide=function(t){var i=isNaN(t)?n.slides.index(e(t)):t;n.count-=1,n.last=n.count-1,isNaN(t)?e(t,n.slides).remove():l&&c?n.slides.eq(n.last).remove():n.slides.eq(t).remove(),n.doMath(),n.update(i,"remove"),n.slides=e(o.selector+":not(.clone)",n),n.setup(),o.removed(n)},p.init()},e.flexslider.defaults={namespace:"flex-",selector:".slides > li",animation:"fade",easing:"swing",direction:"horizontal",reverse:!1,animationLoop:!0,smoothHeight:!1,startAt:0,slideshow:!0,slideshowSpeed:7e3,animationSpeed:600,initDelay:0,randomize:!1,pauseOnAction:!0,pauseOnHover:!1,useCSS:!0,touch:!0,video:!1,controlNav:!0,directionNav:!0,prevText:"Previous",nextText:"Next",keyboard:!0,multipleKeyboard:!1,mousewheel:!1,pausePlay:!1,pauseText:"Pause",playText:"Play",controlsContainer:"",manualControls:"",sync:"",asNavFor:"",itemWidth:0,itemMargin:0,minItems:0,maxItems:0,move:0,start:function(){},before:function(){},after:function(){},end:function(){},added:function(){},removed:function(){}},e.fn.flexslider=function(t){if(t=t||{},"object"==typeof t)return this.each(function(){var i=e(this),n=i.find(t.selector?t.selector:".slides > li");1===n.length?(n.fadeIn(400),t.start&&t.start(i)):void 0===i.data("flexslider")&&new e.flexslider(this,t)});var i=e(this).data("flexslider");switch(t){case"play":i.play();break;case"pause":i.pause();break;case"next":i.flexAnimate(i.getTarget("next"),!0);break;case"prev":case"previous":i.flexAnimate(i.getTarget("prev"),!0);break;default:"number"==typeof t&&i.flexAnimate(t,!0)}}})(jQuery);






